<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="author" content="agalamatis">
    <meta name="description" content="Partial Derivatives, Multiple Integrals, Scalar/Vector Fields, and Line/Surface/Volume Integrals">

    <!-- <link rel="stylesheet" href="css/styles.css?v=1.0"> -->

    <title>Vector Calculus</title>
</head>

<body>
    <h1>Vector Calculus</h1>

    <h2>Scalar & vector fields</h2>
    <!-- SMT359: B.8.3.1 -->

    <p>A <strong>field</strong> is a physical quantity which, at a given instant, has definite values throughout a region of space. The region may be the whole of space or a continuous set of points within it. It should not be a discrete set of isolated points. Fields can be classified as being either scalar fields or vector fields. A <strong>scalar field</strong> is a field with scalar values throughout a region of space. Each point in the region has a particular scalar value of the field quantity. A <strong>vector field</strong> is a field with vector values throughout a region of space. Each point in the region has a particular magnitude and a direction of the field quantity.</p>

    <p>For vector fields, we can use arrow maps or field line patterns. An <strong>arrow map</strong> (see the figure below on the left) displays arrows at a selection of points, with the length and direction of the arrow at a given point indicating the magnitude and direction of the vector field at the point. Alternatively, we can show a set of field lines (see the figure below on the middle). A <strong>field line</strong> is a continuous line that points in the direction of the field at each point along its path. A field line pattern tells us about the direction of the vector field, but does not automatically give quantitative information about the magnitude of the field. For scalar fields, we simply draw lines (in two dimensions) or surfaces (in three dimensions) on which the field has a constant value (see the figure below on the right). These are called <strong>contour lines</strong> (in 2D) or <strong>surfaces</strong> (in 3D), but more specific names are given in different circumstances (e.g. isobars for pressure, isotherms for temperature and equipotentials for electrostatic fields).</p>

    <img src="../../images/visualising_fields.png">

    <h2>Non-cartesian coordinates</h2>
    <!-- SMT359: B.8.3.2 -->

    <p>So far, we have concentrated on Cartesian coordinates, \( x \), \( y \) and \( z \). However, fields are often described in other coordinate systems. If a field has spherical symmetry about a given point, it is sensible to use spherical coordinates centred on that point. If a system has cylindrical symmetry about a given axis, it is sensible to use cylindrical coordinates centred on the axis.</p>

    <h3>Spherical coordinates</h3>

    <p>The figure below shows how the <strong>spherical coordinates</strong> (\( r \), \( \theta \), \( \phi \)) of a point \( P \) are defined:</p>

    <ul>
        <li>The <strong>radial coordinate</strong> \( r \) is the distance from the origin \( O \) to the point.</li>
        <li>The <strong>polar coordinate</strong> \( \theta \) is the smaller of the angles between the positive \( z \)-axis and the line \( OP \). \( \theta = 0 \) when P lies on the positive \( z \)-axis.</li>
        <li>The <strong>azimuthal coordinate</strong> \( \phi \) is the angle between the positive \( x \)-axis and the projection of \( OP \) in the \( xy \)-plane. The sense of increasing \( \phi \) is determined by a right-hand grip rule. With the thumb of the right hand pointing along the positive \( z \)-axis, the curled fingers of the right hand indicate the direction in which \( \phi \) increases. \( \phi = 0 \) when the projection of \( P \) in the \( xy \)-plane coincides with the positive \( x \)-axis.</li>
    </ul>

    <img src="../../images/spherical_coordinates.png">

    <p>Using trigonometry in figure above, we see that a point \( P \) with spherical coordinates (\( r \), \( \theta \), \( \phi \)) has Cartesian coordinates \[ \begin{aligned} x &= r sin(\theta) cos(\phi), \\ y &= r sin(\theta) sin(\phi), \\ z &= r cos(\theta). \end{aligned} \]</p>

    <p>The inverse transformations are \[ \begin{aligned} r &= \sqrt{x^2 + y^2 + z^2}, \\ \theta &= cos^{-1} \left( \frac{z}{\sqrt{x^2 + y^2 + z^2}} \right), \\ \phi &= tan^{-1} \left( \frac{y}{x} \right). \end{aligned} \]</p>

    <p>We must restrict spherical coordinates to lie in the ranges: \[ 0 \leq r < \infty \text{, } 0 \leq \theta \leq \pi \text{ and } 0 \leq \phi < 2\pi, \] where we follow the usual convention of measuring angles in radians. These ranges allow spherical coordinates to cover the whole of space. Every point can be represented by a set of spherical coordinates. The given ranges also ensure that most points have only one set of spherical coordinates. The exceptions are points on the \( z \)-axis of the figure above. Any value of \( \phi \) can be chosen at these points and any values of \( \theta \) and \( \phi \) can be chosen at the origin.</p>

    <p>To describe a scalar field \( f \) in spherical coordinates we express it as a function of \( r \), \( \theta \) and \( \phi \): \[ f = f(r, \theta, \phi). \]</p>

    <p>To describe a vector field \( \boldsymbol{F} \) in spherical coordinates we need suitable unit vectors. At any given point, we introduce the <strong>spherical unit vectors</strong> shown in figure below. Each unit vector points in a direction where one spherical coordinate changes and the other two remain fixed:</p>

    <ul>
        <li>\( \boldsymbol{e_r}  \)is in the direction of increasing \( r \) and constant \( \theta \) and \( \phi \). This is the outward radial direction, pointing directly away from the origin.</li>
        <li>\( \boldsymbol{e_\theta} \) is in the direction of increasing \( \theta \) and constant \( r \) and \( \phi \).</li>
        <li>\( \boldsymbol{e_\phi} \) is in the direction of increasing \( \phi \) and constant \( r \) and \( \theta \).</li>
    </ul>

    <img src="../../images/spherical_unit_vectors.png">

    <p>It is essential to realize that the directions of the spherical unit vectors vary from point to point. The notion of pointing radially outwards, for example, depends on where we are. Every point \( \boldsymbol{r} \) has its own set of unit vectors, \( \boldsymbol{e_r(r)} \), \( \boldsymbol{e_\theta(r)} \) and \( \boldsymbol{e_\phi(r)} \). In this respect spherical unit vectors are unlike Cartesian unit vectors, which remain the same everywhere once we have chosen our axes.</p>

    <p>At any given point \( \boldsymbol{r} \), the triplet of vectors (\( \boldsymbol{e_r(r)} \), \( \boldsymbol{e_\theta(r)} \), \( \boldsymbol{e_\phi(r)} \)) forms an orthogonal right-handed system. For example, \[ \boldsymbol{e_r(r)} \cdot \boldsymbol{e_\theta(r)} = 0 \text{ and } \boldsymbol{e_r(r)} \times \boldsymbol{e_\theta(r)} = \boldsymbol{e_\phi(r)}. \]</p>

    <p>The value of a vector field at \( \boldsymbol{r} \) can therefore can be expanded in terms of these unit vectors: \[ \boldsymbol{F(r)} = F_r(\boldsymbol{r}) \boldsymbol{e_r(r)} + F_\theta(\boldsymbol{r}) \boldsymbol{e_\theta(r)} + F_\phi(\boldsymbol{r}) \boldsymbol{e_\phi(r)}. \]</p>

    <p>Spherical coordinates can also be used to describe small displacements and small volume elements. Consider a small displacement \( \delta l \) from a point \( P \) with spherical coordinates (\( r \), \( \theta \), \( \phi \)) to a neighbouring point with coordinates (\( r + \delta r \), \( \theta + \delta \theta \), \( \phi + \delta \phi \)). This displacement is assumed to be so small that we can neglect any change in direction of the spherical unit vectors between the start-point and end-point and neglect terms that are second-order (or higher, like \( (\delta r)^2 \), \( (\delta \theta)^2 \), etc.) in \( \delta r \), \( \delta \theta \) and \( \delta \phi \). As shown in figure below, the displacement can be split into separate displacements in the directions of \( \boldsymbol{e_r} \), \( \boldsymbol{e_\theta} \) and \( \boldsymbol{e_\phi} \).</p>

    <img src="../../images/spherical_displacement.png">

    <p>The radial displacement is simply \( \delta r \boldsymbol{e_r} \). The displacement in the direction of \( \boldsymbol{e_\theta} \) is along an arc of the blue circle in the figure above. This circle has radius \( r \) and angular coordinate \( \theta \), so the displacement is \( r \delta \theta \boldsymbol{e_\theta} \). The displacement in the direction of \( \boldsymbol{e_\phi} \) is along an arc of the red circle in the figure above. This circle has radius \( r sin(\theta) \) and angular coordinate \( \phi \), so the displacement is \( r sin(\theta) \delta \phi \boldsymbol{e_\phi} \). Adding these three displacements together gives the displacement vector \( \delta \boldsymbol{l} \) between the two neighbouring points (\( r \), \( \theta \), \( \phi \)) and (\( r + \delta r \), \( \theta + \delta \theta \), \( \phi + \delta \phi \)): \[ \delta \boldsymbol{l} = \delta r \boldsymbol{e_r} + r \delta \theta \boldsymbol{e_\theta} + r sin(\theta) \delta \phi \boldsymbol{e_\phi}. \] Note that the displacement \( \delta \boldsymbol{l} \) does not just depend on the changes in coordinates, \( \delta r \), \( \delta \theta \) and \( \delta \phi \) — it also depends on the coordinates \( r \) and \( \theta \) themselves.</p>

    <p>It is useful to introduce the notation of <strong>scale factors</strong>. For any coordinate \( q \) and its associated unit vector \( \boldsymbol{e_q} \), we consider a small change \( \delta q \), while keeping the other coordinates fixed. Then the scale factor \( h_q \) is defined as the factor by which \( \delta q \boldsymbol{e_q} \) must be multiplied to give the resulting displacement.</p>

    <p>Comparing with the equation for \( \delta \boldsymbol{l} \), we see that the scale factors for spherical coordinates are \[ h_r = 1 \text{, } h_{\theta} = r \text{ and } h_{\phi} = r sin(\theta), \] in terms of which the displacement takes the symmetrical form \[ \delta \boldsymbol{l} = h_r \delta r \boldsymbol{e_r} + h_{\theta} \delta \theta \boldsymbol{e_{\theta}} + h_{\phi} \delta \phi \boldsymbol{e_{\phi}}. \]</p>

    <img src="../../images/small_volume_element_in_spherical_coordinates.png">

    <p>Finally, because the spherical unit vectors are orthogonal, the small volume element shown in the figure above is very nearly a cube and so has volume \[ \delta V = (h_r \delta r) (h_{\theta} \delta \theta) (h_{\phi} \delta \phi). \] Therefore the volume element in spherical coordinates is \[ \delta V = (\delta r) (r \delta \theta) (r sin(\theta) \delta \phi) = r^2 sin(\theta) \delta r \delta \theta \delta \phi. \]</p>

    <h3>Cylindrical coordinates</h3>

    <p>The figure below shows how the <strong>cylindrical coordinates</strong> (\( r \), \( \phi \), \( z \)) of a point \( P \) are defined:</p>

    <ul>
        <li>The <strong>radial coordinate</strong> \( r \) is the perpendicular distance from the \( z \)-axis to the point.</li>
        <li>The <strong>azimuthal coordinate</strong> \( \phi \) is the azimuthal angle, that is, the angle between the positive \( x \)-axis and the projection of OP in the \( xy \)-plane. The sense of increasing \( \phi \) is determined by a right-hand grip rule. With the thumb of the right hand pointing along the positive \( z \)-axis, the curled fingers of the right hand indicate the direction in which \( \phi \) increases. \( \phi \) = 0 when the projection of \( P \) in the \( xy \)-plane coincides with the positive \( x \)-axis.</li>
        <li>The <strong>axial coordinate</strong> \( z \) is identical to the Cartesian \( z \)-coordinate.</li>
    </ul>

    <img src="../../images/cylindrical_coordinates.png">

    <p>Note that \( r \) in cylindrical coordinates is <em>not</em> the same as \( r \) in spherical coordinates. It is therefore important always to say which coordinate system is being used in a given situation.</p>

    <p>Using trigonometry in the figure above, we see that the cylindrical coordinates (\( r \), \( \phi \), \( z \)) of a point \( P \) are related to the Cartesian coordinates (\( x \), \( y \), \( z \)) of the same point by \[ \begin{aligned} x &= r cos(\phi) \\ y &= r sin(\phi) \\ z &= z. \end{aligned} \] The inverse transformations are: \[ \begin{aligned} r &= \sqrt{x^2 + y^2} \\ \phi &= tan^{-1}(y / x) \\ z &= z. \end{aligned} \] The angle \phi is measured in radians and the three coordinates are restricted to lie in the ranges: \[ 0 \leq r < \infty \text{, } 0 \leq \phi < 2 \pi \text{ and } - \infty < z < \infty. \]</p>

    <p>To describe a scalar field \( f \) in cylindrical coordinates we express it as a function of \( r \), \( \phi \) and \( z \): \[ f = f(r, \phi, z). \]</p>

    <p>To describe a vector field \( \boldsymbol{F} \) in cylindrical coordinates we use the <strong>cylindrical unit vectors</strong> shown in the figure below. Each unit vector points in a direction in which one cylindrical coordinate changes while the other two remain fixed.</p>

    <ul>
        <li>\( \boldsymbol{e_r} \) is in the direction of increasing \( r \) and constant \( \phi \) and \( z \). This is in the outward radial direction, perpendicular to the \( z \)-axis.</li>
        <li>\( \boldsymbol{e_{\phi}} \) is in the direction of increasing \( \phi \) and constant \( r \) and \( z \).</li>
        <li>\( \boldsymbol{e_z} \) is in the direction of increasing \( z \) and constant \( r \) and \( \phi \).</li>
    </ul>

    <img src="../../images/cylindrical_unit_vectors.png">

    <p>Although \( \boldsymbol{e_z} \) maintains a constant direction, the other two unit vectors are functions of position. At any given point \( r \), the triplet of vectors \( (\boldsymbol{e_r(r)}, \boldsymbol{e_{\phi}(r)}, \boldsymbol{e_z}) \) forms an orthogonal right-handed system with, for example, \[ \boldsymbol{e_r(r)} \cdot \boldsymbol{e_{\phi}(r)} = 0 \text{ and } \boldsymbol{e_r(r)} \times \boldsymbol{e_{\phi}(r)} = \boldsymbol{e_z}. \]</p>

    <p>The value of a vector field at \( r \) can therefore be expanded in terms of these unit vectors: \[ \boldsymbol{F(r)} = F_r(\boldsymbol{r}) \boldsymbol{e_r(r)} + F_{\phi}(\boldsymbol{r}) \boldsymbol{e_{\phi}(r)} + F_z(\boldsymbol{r}) \boldsymbol{e_z}. \]</p>

    <p>In cylindrical coordinates, a small displacement is given by \[ \delta \boldsymbol{l} = \delta r \boldsymbol{e_r} + r \delta \phi \boldsymbol{e_{\phi}} + \delta z \boldsymbol{e_z}. \] The scale factors are therefore \[ h_r = 1 \text{, } h_{\phi} = r \text{ and } h_z = 1, \] and a small volume element about the point (\( r \), \( \phi \), \( z \)) is \[ \delta V = h_r h_{\phi} h_z \delta r \delta \phi \delta z = r \delta r \delta φ \delta z. \]</p>

    <h2>Partial Differentiation</h2>
    <!-- SM358: A.8.3.1 -->
    <!-- SMT359: B.8.4.* -->

    <p>If \( f(x,t) \) is a function of the two independent variables \( x \) and \( t \), we can differentiate \( f(x,t) \) with respect to \( x \) while treating \( t \) as a constant. The result of this differentiation is called the <strong>partial derivative</strong> of \( f \) with respect to \( x \), and is written as \( \partial f / \partial x \). Similarly, we can differentiate \( f(x,t) \) with respect to \( t \) while treating \( x \)  as a constant; this gives the partial derivative of \( f \) with respect to \( t \), written as \( \partial f / \partial t \). Partial derivatives can be evaluated for functions of any number of variables (not just two); each partial derivative is obtained by differentiating the function with respect to one of its variables while keeping <em>all</em> the other variables constant.</p>

    <p>The partial derivatives \( \partial f / \partial x \) and \( \partial f / \partial t \) are called <strong>first-order partial derivatives</strong> because they involve a single partial differentiation. These partial derivatives are themselves functions of \( x \) and \( t \), so they can be partially differentiated again. For a function of two independent variables, \( f(x,t) \), there are four <strong>second-order partial derivatives</strong>: \[ \frac{\partial^2 f}{\partial x^2} = \frac{\partial}{\partial x} \left( \frac{\partial f}{\partial x} \right), \frac{\partial^2 f}{\partial t^2} = \frac{\partial}{\partial t} \left( \frac{\partial f}{\partial t} \right), \frac{\partial^2 f}{\partial x \partial t} = \frac{\partial}{\partial x} \left( \frac{\partial f}{\partial t} \right), \frac{\partial^2 f}{\partial t \partial x} = \frac{\partial}{\partial t} \left( \frac{\partial f}{\partial x} \right). \] However, for well-behaved functions, the last two partial derivatives, called <strong>mixed partial derivatives</strong>, turns out that the sequence of partial differentiation is irrelevant: \[ \frac{\partial^2 f}{\partial x \partial t} = \frac{\partial^2 f}{\partial t \partial x}, \] so, in practice, only three of the second-order partial derivatives are independent.</p>

    <h2>Volume integrals</h2>
    <!-- SMT359: B.8.5.1 -->

    <p>A <strong>volume integral</strong> generalizes this idea of integration to three dimensions and the integration is performed over a definite region of three-dimensional space, such as a cube or a sphere. Nevertheless, the basic idea of integration remains the same. Suppose we have a function \( f(\boldsymbol{r}) \) which varies with position \( \boldsymbol{r} \) in threedimensional space. We want to integrate this function over a three-dimensional volume, \( V \) . This is achieved by dividing \( V \) into many small volume elements. Suppose that the volume element containing the point \( \boldsymbol{r_i} \) has volume \( \Delta V_i \). Then we can form the sum \[ \sum_{i} f(\boldsymbol{r_i}) \Delta V_i,  \] where the label \( i \) runs over all the volume elements \( \Delta V_i \) in the volume \( V \). Taking the limit of an infinite number of infinitesimal volume elements gives the required volume integral, which we write as \[ I = \int_{V} f(\boldsymbol{r}) dV. \] The subscript \( V \) on the integral sign indicates that the integral is taken over the volume \( V \). This notation is less explicit than the use of limits one dimentional integrals but it does serve to remind us that, when the equation is approximated by a sum, all the volume elements must belong to \( V \).</p>

    <!-- TODO: spherical and cylindrical coordinates -->

    <h2>Surface integrals and flux</h2>
    <!-- SMT359: B.8.5.2 -->

    <p>We need to consider planes that are oriented in three-dimensional space. The simplest way to describe the orientation of a plane is to specify a unit vector \( \boldsymbol{\hat{n}} \) that is perpendicular to the plane (see the figure below). There are actually two such vectors, pointing in opposite directions, but this is not a problem — we just pick one of them and specify our selection clearly. The chosen unit vector is then called the <strong>unit normal</strong> of the plane. For any given plane element, we can multiply the area \( Delta S \) of the element by its unit normal \( \boldsymbol{\hat{n}} \) to obtain the vector \[ \Delta \boldsymbol{S} = \Delta S \boldsymbol{\hat{n}}. \] This vector is called the <strong>oriented area</strong> of the plane element. It is perpendicular to the plane element and its magnitude is the area of the plane element.</p>

    <img src="../../images/flux_over_element.png">

    <p>Flux is a property of a vector field. Suppose a vector field \( \boldsymbol{F} \) is defined throughout a region of space. We place a small plane element somewhere in this region (see the figure above). The plane element is small enough for the field to be taken as constant all over its surface. Then the <strong>flux</strong> of the vector field over the element is defined to be the normal component of the field (the component in the direction of the unit normal \( \boldsymbol{\hat{n}} \)) times the area of the plane element: \( F_n = \Delta S. \)</p>

    <p>However, the normal component of the field is given by the scalar product \( F_n = \boldsymbol{F} \cdot \boldsymbol{\hat{n}} = F \cos(\theta) \), where \( F \) is the magnitude of the vector field and \( \theta \) is the angle between \( \boldsymbol{F} \) and \( \boldsymbol{\hat{n}} \). So the flux over element is \( (\boldsymbol{F} \cdot \boldsymbol{\hat{n}}) \Delta S = \boldsymbol{F} \cdot (\boldsymbol{\hat{n}} \Delta S) = \boldsymbol{F} \cdot \Delta \boldsymbol{S} \). Hence, an alternative way of defining the flux is to say that it is the scalar product of the vector field (at the position of the element) and the oriented area of the element.</p>

    <p>The name flux comes from the Latin for flow. This is not accidental because the flow of water provides useful insights into the meaning of flux. The velocity of water throughout a region of space can be described by a velocity vector field \( \boldsymbol{v}(\boldsymbol{r}) \). The flux of this vector field over a small plane element, \( \Delta \boldsymbol{S} \), is \( \boldsymbol{v} \cdot \Delta \boldsymbol{S} \). This quantity has a simple interpretation. It is the rate of flow of water through the plane surface, measured in terms of volume per unit time. To see why, note from the fiigure below that the water that passes through the brown plane element \( \Delta S \) in time \( \Delta t \) is contained in the oblique parallelepiped.</p>

    <img src="../../images/oblique_parallelepiped.png">

    <p>This oblique parallelepiped has the same volume as the oblong brick, namely \( \Delta V = \text{area of base} \times \text{height} = \Delta S (v \Delta t \cos(\theta)) \), where \( \theta \) is the angle between the direction of flow of the water and the unit normal \( \boldsymbol{\hat{n}} \)) to the plane element of area \( \Delta S \). So \( \Delta V = (v \Delta S \cos(\theta)) \Delta t = (\boldsymbol{v} \cdot \Delta \boldsymbol{S}) ∆t \), and the velocity flux becomes  \[ \frac{dV}{dt} = \boldsymbol{v} \cdot \Delta \boldsymbol{S}. \] This flux is positive if the direction of flow makes an acute angle with the unit normal, and is negative if the flow is in the opposite sense. For a given flow of water, the flux is greatest when the plane element is normal to the flow \( \boldsymbol{\hat{n}} \) parallel to \( \boldsymbol{v} \) and \( \theta = 0 ^{\circ} \)). The flux is zero when the plane element is parallel to the flow (\( \boldsymbol{\hat{n}} \) perpendicular to \( \boldsymbol{v} \) and \( \theta = 90 ^{\circ} \)). Our general definition of flux is a mathematical abstraction of this concept which can be used for electric and magnetic fields, where nothing actually flows.</p>

    <p>The definition of flux can be extended to larger surfaces, even if they are curved. To achieve this, we imagine covering the surface with many small patches (as in the figure below). The patches are small enough for each to be treated as a plane element, and they are oriented consistently so that the unit normals of neighbouring patches are almost parallel, rather than almost antiparallel.</p>

    <img src="../../images/open_surface.png">

    <p>The flux over each patch can be found from the equation over an element (\( \boldsymbol{F} \cdot \Delta \boldsymbol{S} \)). To find the total flux over the whole surface we just add up the contributions of all the patches. We can avoid any inaccuracies by taking the limit of an infinite number of infinitesimal patches, so that the surface is fitted exactly. The resulting quantity is called the <strong>surface integral</strong> of the vector field over the surface, equal to \[ \int_{S} \boldsymbol{F} \cdot \Delta \boldsymbol{S}, \] where the surface integral and the subscript S on the integral sign shows that the integral is taken over a given surface \( S \).</p>

    <img src="../../images/closed_surface.png">

    <p>Many of the surface integrals you will be over closed surfaces. A <strong>closed surface</strong> is one that separates space into two disconnected regions, one inside the surface and one outside. It is impossible to travel between these regions without crossing the surface. An <strong>open surface</strong> is one that fails to achieve this separation. For any closed surface it is conventional to choose the unit normals to point outwards (as seen in the figure above). The flux of a vector field over a closed surface is therefore the flux outwards into the exterior space.</p>

    <h2>Divergence</h2>
    <!-- SMT359: B.8.6.* -->

    <p></p>

<!--

-->

    <h2></h2>
    <!-- SMT359: B.8.5. -->

    <p></p>

    <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</body>
</html>